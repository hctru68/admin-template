(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{412:function(e,a,t){"use strict";t.d(a,"a",function(){return d});var r=t(15),n=t(16),l=t(18),o=t(17),s=t(19),c=t(1),i=t.n(c),m=t(2),d=function(e){function a(){return Object(r.a)(this,a),Object(l.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(s.a)(a,e),Object(n.a)(a,[{key:"render",value:function(){var e=this.props,a=e.isOpenModal,t=e.className,r=e.toggleModal,n=e.headerTitle,l=e.bodyContent,o=e.sizeModal,s=e.textBtnYes,c=e.textBtnNo,d=e.backdropModal,u=e.selectedYes;return i.a.createElement(m.Q,{isOpen:a,size:o,backdrop:d,className:"modal-"+t,toggle:r},i.a.createElement(m.T,{toggle:r},n),i.a.createElement(m.R,null,l),i.a.createElement(m.S,null,i.a.createElement(m.e,{className:"label-button-confirm",color:t,onClick:u},s)," ",i.a.createElement(m.e,{className:"label-button-confirm",color:"secondary",onClick:r},c)))}}]),a}(i.a.Component)},419:function(e,a,t){"use strict";t.d(a,"a",function(){return m});var r=t(15),n=t(16),l=t(18),o=t(17),s=t(19),c=t(1),i=t.n(c),m=function(e){function a(){return Object(r.a)(this,a),Object(l.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(s.a)(a,e),Object(n.a)(a,[{key:"render",value:function(){var e=this.props,a=e.responseData,t=e.msgErrorGetAPI,r=e.msgError401GetAPI,n=e.msgRedirectToLogin,l=i.a.createElement("div",{className:"alert alert-danger"},t);return a&&401===a.status&&(l=i.a.createElement("div",null,i.a.createElement("div",{className:"alert alert-danger"},t,i.a.createElement("br",null),r,i.a.createElement("br",null),i.a.createElement("a",{className:"alert-link",href:"/login"},n)))),l}}]),a}(i.a.Component)},653:function(e,a,t){"use strict";t.r(a);var r=t(12),n=t(15),l=t(16),o=t(18),s=t(17),c=t(19),i=t(1),m=t.n(i),d=t(80),u=(t(430),t(93)),p=t(25),f=t(2),E=(t(14),t(163),t(164)),h=t.n(E),b=t(60),N=(t(412),t(419),t(76)),D=t(42),R=(t(165),t(32)),v=t(8),O=0,g=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(o.a)(this,Object(s.a)(a).call(this,e))).handleSubmitForm=function(e){if(e&&(e.preventDefault(),t.handleValidateForm(t.state.formData)))if("add"===t.handleParam())t.props.addRole(t.state.formData.roleName);else{var a="?currRoleName="+Object(R.c)(D.a.ROLE_KEY_EDIT)+"&nameChanged="+t.state.formData.roleName;t.props.editRole(a)}},t.handleResetForm=function(){t.setState({formData:{roleName:null}}),t.roleNameInput.focus()},t.updateRoleName=function(e){if(e&&e.target){var a=e.target.value;t.setState({formData:Object(r.a)({},t.state.formData,{roleName:a})})}},t.state={formData:{roleName:null}},Object(v.a)(),t}return Object(c.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.roleNameInput.focus();var e=Object(R.c)(D.a.ROLE_KEY_EDIT);e&&"add"!==this.handleParam()&&this.setState({formData:Object(r.a)({},this.state.formData,{roleName:e})})}},{key:"componentWillReceiveProps",value:function(e){var a=e.t,t=e.resultAddRole,r=e.resultEditRole;if("add"===this.handleParam()){if(!t||!t.responseData)return;t.responseData.success?(b.toastr.success(a(p.a.role.roleAddTitle),a(p.a.common.addDataSuccess)),this.setState({formData:{roleName:null}})):t.responseData.data&&t.responseData.data.Code===D.a.ROLE_ERROR_MSG_EXISTED?b.toastr.error(a(p.a.role.roleAddTitle),a(p.a.role.roleAddExistErrorMsg)):b.toastr.error(a(p.a.role.roleAddTitle),a(p.a.common.addDataFail))}else{if(!r||!r.responseData)return;r.responseData.success?(Object(R.e)(D.a.ROLE_KEY_EDIT,this.state.formData.roleName),b.toastr.success(a(p.a.role.roleAddTitle),a(p.a.common.addDataSuccess))):r.responseData.data&&r.responseData.data.Code===D.a.ROLE_ERROR_MSG_EXISTED?b.toastr.error(a(p.a.role.roleAddTitle),a(p.a.role.roleAddExistErrorMsg)):b.toastr.error(a(p.a.role.roleAddTitle),a(p.a.common.addDataFail))}}},{key:"handleValidateForm",value:function(e){if(!e)return!1;var a=e.roleName;return!(!a||""===a.trim())||(this.setState({formData:Object(r.a)({},this.state.formData,{roleName:null==a?"":a})}),this.roleNameInput.focus(),!1)}},{key:"handleParam",value:function(){var e=this.props.match,a="add";return e&&e.params&&e.params.id&&(a=e.params.id>0?parseInt(e.params.id):e.params.id),a}},{key:"renderMainContent",value:function(e,a,t){var r=this,n=this.props,l=n.t,o=n.resultAddRole,s=n.resultEditRole;return m.a.createElement("div",{className:e},m.a.createElement(h.a,{active:o.isLoading||s.isLoading,spinner:!0,text:l(p.a.common.processingSpinner),className:"overlayFullScreen"}),m.a.createElement(f.C,{onSubmit:this.handleSubmitForm},m.a.createElement(f.i,null,m.a.createElement(f.n,null,m.a.createElement("strong",null,a)),m.a.createElement(f.j,null,m.a.createElement(f.E,null,m.a.createElement(f.L,{htmlFor:"roleName"},l(p.a.role.roleNameField)),m.a.createElement(f.G,{type:"text",invalid:""===t.roleName||null,id:"roleName",innerRef:function(e){r.roleNameInput=e},value:null==t.roleName?"":t.roleName,onChange:this.updateRoleName}),m.a.createElement(f.D,null,l(p.a.role.roleNameFieldErrorMsg)))),m.a.createElement(f.l,null,m.a.createElement(f.e,{type:"submit",size:"sm",color:"primary"},m.a.createElement("i",{className:"fa fa-dot-circle-o"})," ",l(p.a.common.btnSubmit))," ",m.a.createElement(f.e,{type:"reset",size:"sm",color:"danger",onClick:this.handleResetForm},m.a.createElement("i",{className:"fa fa-ban"})," ",l(p.a.common.btnReset))))))}},{key:"render",value:function(){console.log("_renderNumber",O++);var e=this.props.t,a=this.handleParam(),t=e(p.a.role.roleEditTitle);return"add"===a&&(t=e(p.a.role.roleAddTitle)),this.renderMainContent("animated fadeIn",t,this.state.formData)}}]),a}(i.Component),j={addRole:N.a,editRole:N.g};a.default=Object(u.b)()(Object(d.connect)(function(e){return{resultAddRole:e.addRoleReducer,resultEditRole:e.editRoleReducer}},j)(g))}}]);
//# sourceMappingURL=41.5128d2ef.chunk.js.map